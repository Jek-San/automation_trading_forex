12:00:18 | ERROR    | service.account_metric_update_service | Failed to update account metrics: '_GeneratorContextManager' object has no attribute 'cursor'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 17, in run_once
    AccountMetricService.update_metrics(use_db_sources=True)
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 77, in update_metrics
    cur = conn.cursor()
AttributeError: '_GeneratorContextManager' object has no attribute 'cursor'
12:05:18 | ERROR    | service.account_metric_update_service | Failed to update account metrics: '_GeneratorContextManager' object has no attribute 'cursor'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 17, in run_once
    AccountMetricService.update_metrics(use_db_sources=True)
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 77, in update_metrics
    cur = conn.cursor()
AttributeError: '_GeneratorContextManager' object has no attribute 'cursor'
12:10:18 | ERROR    | service.account_metric_update_service | Failed to update account metrics: '_GeneratorContextManager' object has no attribute 'cursor'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 17, in run_once
    AccountMetricService.update_metrics(use_db_sources=True)
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 77, in update_metrics
    cur = conn.cursor()
AttributeError: '_GeneratorContextManager' object has no attribute 'cursor'
12:15:18 | ERROR    | service.account_metric_update_service | Failed to update account metrics: '_GeneratorContextManager' object has no attribute 'cursor'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 17, in run_once
    AccountMetricService.update_metrics(use_db_sources=True)
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 77, in update_metrics
    cur = conn.cursor()
AttributeError: '_GeneratorContextManager' object has no attribute 'cursor'
12:17:36 | ERROR    | service.account_metric_update_service | Failed to update account metrics: AccountMetricService.update_metrics() got an unexpected keyword argument 'use_db_sources'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 17, in run_once
    AccountMetricService.update_metrics(use_db_sources=True)
TypeError: AccountMetricService.update_metrics() got an unexpected keyword argument 'use_db_sources'
12:18:28 | ERROR    | service.account_metric_update_service | Failed to update account metrics: '_GeneratorContextManager' object has no attribute 'cursor'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 17, in run_once
    AccountMetricService.update_metrics()
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 45, in update_metrics
    cursor = conn.cursor()
AttributeError: '_GeneratorContextManager' object has no attribute 'cursor'
14:00:17 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:01:48 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:02:09 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:03:04 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:04:57 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:09:27 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 25, in run_once
    balance = AccountMetricService.update_metrics(initial_balance)
TypeError: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
14:10:24 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 25, in run_once
    balance = AccountMetricService.update_metrics(initial_balance)
TypeError: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
14:12:24 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 25, in run_once
    balance = AccountMetricService.update_metrics(initial_balance)
TypeError: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
14:16:19 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 26, in run_once
    balance = self.account_metric_service.update_metrics(initial_balance)
TypeError: AccountMetricService.update_metrics() takes 0 positional arguments but 1 was given
14:18:06 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:23:06 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:28:06 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:33:11 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:38:11 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:43:11 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:48:13 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
14:53:19 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
20:35:32 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
20:40:39 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
20:45:46 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
20:50:51 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
20:51:23 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 26, in run_once
    balance = AccountMetricService.update_metrics()
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 112, in update_metrics
    balance = baseline + realized_pnl
TypeError: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
20:52:59 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 26, in run_once
    balance = AccountMetricService.update_metrics()
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 116, in update_metrics
    balance = baseline + realized_pnl
TypeError: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
20:53:23 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 26, in run_once
    balance = AccountMetricService.update_metrics()
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 118, in update_metrics
    equity = balance + floating_pnl
TypeError: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
20:54:31 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 26, in run_once
    balance = AccountMetricService.update_metrics()
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 118, in update_metrics
    equity = balance + floating_pnl
TypeError: unsupported operand type(s) for +: 'decimal.Decimal' and 'float'
20:55:24 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: unsupported operand type(s) for -: 'float' and 'decimal.Decimal'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 26, in run_once
    balance = AccountMetricService.update_metrics()
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 122, in update_metrics
    drawdown = ((last_equity - equity) / last_equity * 100) if last_equity > 0 else 0
TypeError: unsupported operand type(s) for -: 'float' and 'decimal.Decimal'
20:58:13 | ERROR    | service.account_metric_update_service | ❌ Failed to update account metrics: type object 'AccountMetricService' has no attribute 'get_last_equity'
Traceback (most recent call last):
  File "D:\RealProject\automation_trading_forex\backend\src\services\account_metric_update_service.py", line 26, in run_once
    balance = AccountMetricService.update_metrics()
  File "D:\RealProject\automation_trading_forex\backend\src\core\account\account_metric_service.py", line 120, in update_metrics
    last_equity = to_decimal(AccountMetricService.get_last_equity())
AttributeError: type object 'AccountMetricService' has no attribute 'get_last_equity'
21:00:13 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:00:57 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:01:28 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:06:19 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:10:37 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:11:12 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:16:13 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:21:29 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:21:42 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:26:42 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
21:31:42 | INFO     | service.account_metric_update_service | ✅ Account metrics refreshed successfully.
